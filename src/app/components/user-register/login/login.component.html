<div class="register-container">
  <mat-card class="form-container">
    <app-theme-switch class="switch-theme"></app-theme-switch>

    <h1 class="title">Login</h1>

    <form [formGroup]="form">
      <div>
        <mat-form-field appearance="outline">
          <mat-label>E-mail</mat-label>
          <input
            type="email"
            matInput
            placeholder="exemplo@gmail.com"
            formControlName="email" />
          <mat-error *ngIf="form.get('email')?.hasError('required')">
            Campo obrigatório
          </mat-error>
          <mat-error *ngIf="form.get('email')?.hasError('wrongEmail')">
            Formato de email inválido
          </mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="outline">
          <mat-label>Digite a senha</mat-label>
          <input
            type="password"
            matInput
            #password
            formControlName="password" />
          <mat-icon
            class="mat-18 show-password"
            appChangePasswordVisibility
            [inputRef]="password"
            >remove_red_eye</mat-icon
          >
          <mat-error *ngIf="form.get('password')?.hasError('required')">
            Campo obrigatório
          </mat-error>
        </mat-form-field>
      </div>

      <div>
        <mat-checkbox formControlName="stayConnected" color="primary"
          >Mantenha-me conectado!</mat-checkbox
        >
      </div>

      <button
        mat-raised-button
        color="primary"
        type="submit"
        (click)="login()"
        [disabled]="!form.valid"
        #loginBtn>
        {{ isRegistering ? 'Entrando...' : 'Entrar' }}
        <mat-progress-spinner
          *ngIf="isRegistering"
          mode="indeterminate"
          color="accent"
          diameter="15"></mat-progress-spinner>
      </button>
    </form>

    <div class="redirect">
      <p>
        Ainda não possui uma conta?
        <a class="color-primary" routerLink="../register">Cadastre-se</a>
      </p>
    </div>
  </mat-card>
</div>
